function cnGetCookieNotice(e){var n=("; "+document.cookie).split("; cookie_notice_accepted=");if(2!==n.length)return null;var o=n.pop().split(";").shift();return e?"true"===o:o}function cnSetCookieNotice(e){"yes"===cnArgs.onScroll&&window.removeEventListener("scroll",cnHandleScroll);var n=new Date,o=new Date,t=document.getElementById("cookie-notice"),i=cnGetCookieNotice(!1);o.setTime(parseInt(n.getTime())+1e3*parseInt(cnArgs.cookieTime)),e="accept"===e?"true":"false",document.cookie=cnArgs.cookieName+"="+e+";expires="+o.toUTCString()+";"+(""!==cnArgs.cookieDomain?"domain="+cnArgs.cookieDomain+";":"")+(""!==cnArgs.cookiePath?"path="+cnArgs.cookiePath+";":"")+("1"===cnArgs.secure?"secure;":""),cnCookiesAccepted="true"===e;var c=new CustomEvent("setCookieNotice",{detail:{value:e,time:n,expires:o,data:cnArgs},bubbles:!0,cancelable:!0});if(document.dispatchEvent(c),cnSetBodyClass(["cookies-set","true"===e?"cookies-accepted":"cookies-refused"]),cnHideCookieNotice(),"automatic"===cnArgs.revoke_cookies_opt&&(t.addEventListener("animationend",function e(){cnShowRevokeNotice(),this.removeEventListener("animationend",e)}),t.addEventListener("webkitAnimationEnd",function e(){cnShowRevokeNotice(),this.removeEventListener("webkitAnimationEnd",e)})),"1"===cnArgs.redirection&&("true"===e&&null===i||e!==i&&null!==i)){var s=window.location.protocol+"//",a=window.location.host+"/"+window.location.pathname;"1"===cnArgs.cache?(s=s+a.replace("//","/")+(""===window.location.search?"?":window.location.search+"&")+"cn-reloaded=1"+window.location.hash,window.location.href=s):(s=s+a.replace("//","/")+window.location.search+window.location.hash,window.location.reload(!0))}else cnArgs.revoke_cookies_opt}function cnShowCookieNotice(){var n=document.getElementById("cookie-notice"),e=new CustomEvent("showCookieNotice",{detail:{data:cnArgs},bubbles:!0,cancelable:!0});document.dispatchEvent(e),n.classList.remove("cookie-notice-hidden"),n.classList.add("cn-animated","cookie-notice-visible"),n.addEventListener("animationend",function e(){n.classList.remove("cn-animated"),this.removeEventListener("animationend",e)}),n.addEventListener("webkitAnimationEnd",function e(){n.classList.remove("cn-animated"),this.removeEventListener("webkitAnimationEnd",e)})}function cnHideCookieNotice(){var n=document.getElementById("cookie-notice"),e=new CustomEvent("hideCookieNotice",{detail:{data:cnArgs},bubbles:!0,cancelable:!0});document.dispatchEvent(e),n.classList.add("cn-animated"),n.classList.remove("cookie-notice-visible"),n.addEventListener("animationend",function e(){n.classList.remove("cn-animated"),n.classList.add("cookie-notice-hidden"),this.removeEventListener("animationend",e)}),n.addEventListener("webkitAnimationEnd",function e(){n.classList.remove("cn-animated"),n.classList.add("cookie-notice-hidden"),this.removeEventListener("webkitAnimationEnd",e)})}function cnShowRevokeNotice(){var n=document.getElementById("cookie-notice"),e=new CustomEvent("showRevokeNotice",{detail:{data:cnArgs},bubbles:!0,cancelable:!0});document.dispatchEvent(e),n.classList.remove("cookie-revoke-hidden"),n.classList.add("cn-animated","cookie-revoke-visible"),n.addEventListener("animationend",function e(){n.classList.remove("cn-animated"),this.removeEventListener("animationend",e)}),n.addEventListener("webkitAnimationEnd",function e(){n.classList.remove("cn-animated"),this.removeEventListener("webkitAnimationEnd",e)})}function cnHideRevokeNotice(){var n=document.getElementById("cookie-notice"),e=new CustomEvent("hideRevokeNotice",{detail:{data:cnArgs},bubbles:!0,cancelable:!0});document.dispatchEvent(e),n.classList.add("cn-animated"),n.classList.remove("cookie-revoke-visible"),n.addEventListener("animationend",function e(){n.classList.remove("cn-animated"),n.classList.add("cookie-revoke-hidden"),this.removeEventListener("animationend",e)}),n.addEventListener("webkitAnimationEnd",function e(){n.classList.remove("cn-animated"),n.classList.add("cookie-revoke-hidden"),this.removeEventListener("webkitAnimationEnd",e)})}function cnSetBodyClass(e){document.body.classList.remove("cookies-revoke","cookies-accepted","cookies-refused","cookies-set","cookies-not-set");for(var n=0;n<e.length;n++)document.body.classList.add(e[n])}function cnHandleScroll(){(window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop)>parseInt(cnArgs.onScrollOffset)&&cnSetCookieNotice("accept")}function cnInitCookieNotice(){var n=document.getElementById("cookie-notice"),e=cnGetCookieNotice(!1),o=document.getElementsByClassName("cn-set-cookie"),t=document.getElementsByClassName("cn-revoke-cookie");n.classList.add("cn-effect-"+cnArgs.hideEffect),null===e?("yes"===cnArgs.onScroll&&window.addEventListener("scroll",cnHandleScroll),cnSetBodyClass(["cookies-not-set"]),cnShowCookieNotice()):(cnSetBodyClass(["cookies-set","true"===e?"cookies-accepted":"cookies-refused"]),"automatic"===cnArgs.revoke_cookies_opt&&cnShowRevokeNotice());for(var i=0;i<o.length;i++)o[i].addEventListener("click",function(e){e.preventDefault(),cnSetCookieNotice(this.dataset.cookieSet)});for(i=0;i<t.length;i++)t[i].addEventListener("click",function(e){e.preventDefault(),n.classList.contains("cookie-revoke-visible")?(cnHideRevokeNotice(),n.addEventListener("animationend",function e(){cnShowCookieNotice(),this.removeEventListener("animationend",e)}),n.addEventListener("webkitAnimationEnd",function e(){cnShowCookieNotice(),this.removeEventListener("webkitAnimationEnd",e)})):cnShowCookieNotice()})}cnCookiesAccepted=cnGetCookieNotice(!0),document.addEventListener("DOMContentLoaded",cnInitCookieNotice);